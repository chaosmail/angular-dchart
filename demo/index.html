<!DOCTYPE HTML>
<html xmlns:ng="http://angularjs.org" ng-app="dchart.demo">
    <head>
        <title>Angular/D3.js Chart Directives</title>
        <meta charset="utf-8">

        <link rel="stylesheet" type="text/css" href="../dist/dchart.min.css">

        <script type="text/javascript" src="../lib/angular.js"></script>
        <script type="text/javascript" src="../lib/d3.js" charset="utf-8"></script>

        <script type="text/javascript" src="../dist/dchart.min.js"></script>

        <script type="text/javascript">
            var app = angular.module('dchart.demo', ['dchart.line', 'dchart.histo', 'dchart.scatter']);

            app.controller("MainCtrl", ['$scope', '$timeout', function($scope,$timeout) {

                $scope.dataSetLine1 = [
                    {x:5,y:5,w:1}, {x:15,y:35,w:1}, {x:45,y:25,w:1}
                ];

                $scope.dataSetLine2 = [
                    {x:5,y:5,w:1}, {x:15,y:35,w:1}, {x:45,y:25,w:1}
                ];

                var countUp = function() {

                    $scope.dataSetLine1.push({x:Math.random()*100,y:Math.random()*100,w:Math.random()});
                    if ($scope.dataSetLine1.length > 5) $scope.dataSetLine1.shift();

                    $scope.dataSetLine2.push({x:Math.random()*100,y:Math.random()*100,w:Math.random()});
                    if ($scope.dataSetLine2.length > 5) $scope.dataSetLine2.shift();

                    $timeout(countUp, 1000);
                };

                $timeout(countUp, 1000);
            }]);
        </script>
    </head>
    <body ng-controller="MainCtrl">
        <h1>Angular/D3.js Chart Directives</h1>

        <h2>About</h2>
        <p>
            This library is in devlopment and not finished yet.<br />
            Source on Github: <a href="https://github.com/chaosmail/angular-dchart" target="_new">https://github.com/chaosmail/angular-dchart</a>
        </p>
        <h2>Line Chart</h2>
        <p>
        <dchart-line width="600" height="300">
            <axis>
                <x align="bottom" range="auto" label-pos="end">x Axis</x>
                <y align="left" range="auto" label-pos="end">y Axis</y>
            </axis>
            <data-set stroke="orange" stroke-width="2" data="dataSetLine1">
            </data-set>
            <data-set stroke="green" stroke-width="1.5" data="dataSetLine2">
            </data-set>
            <data-set stroke="blue" stroke-width="1.5">
                <data x="7" y="7"></data>
                <data x="17" y="3"></data>
                <data x="8" y="12"></data>
                <data x="22" y="15"></data>
            </data-set>
        </dchart-line>

        <dchart-line width="300" height="300">
            <axis>
                <x align="center" range="auto">x Axis</x>
                <y align="center" range="auto">y Axis</y>
            </axis>
            <data-set stroke="orange" stroke-width="2" data="dataSetLine1" interpolate="bundle">
            </data-set>
            <data-set stroke="green" stroke-width="1.5" data="dataSetLine2" interpolate="cardinal">
            </data-set>
            <data-set stroke="blue" stroke-width="1">
                <data x="24" y="2"></data>
                <data x="12" y="3"></data>
                <data x="5" y="14"></data>
                <data x="21" y="25"></data>
            </data-set>
        </dchart-line>
        </p>

        <h2>Histogramm</h2>
        <p>
        <dchart-histo width="600" height="300">
            <axis>
                <x align="bottom" ticks="20" range="auto">x Axis</x>
                <y align="left" range="auto">y Axis</y>
            </axis>
            <data-set stroke="blue" fill="green" fill-opacity="0.8" stroke-width="1" data="dataSetLine1">
            </data-set>
            <data-set stroke="orange" fill="yellow" fill-opacity="0.8" stroke-width="0.5"  data="dataSetLine2">
            </data-set>
            <data-set stroke="red" fill="orange" fill-opacity="0.8" stroke-width="0.5">
                <data x="2" y="4"></data>
                <data x="4" y="8"></data>
                <data x="6" y="15"></data>
                <data x="8" y="25"></data>
            </data-set>
        </dchart-histo>

        <dchart-histo width="300" height="300">
            <axis>
                <x align="top" domain="[0,100]" ticks="25" label-pos="start">x Axis</x>
                <y align="right" domain="[0,100]" label-pos="middle">y Axis</y>
            </axis>
            <data-set stroke="blue" fill="green" fill-opacity="0.8" stroke-width="1" data="dataSetLine1">
            </data-set>
            <data-set stroke="orange" fill="yellow" fill-opacity="0.8" stroke-width="0.5"  data="dataSetLine2">
            </data-set>
            <data-set stroke="black" fill="blue" fill-opacity="0.8" stroke-width="0.5">
                <data x="24" y="2"></data>
                <data x="12" y="3"></data>
                <data x="5" y="14"></data>
                <data x="21" y="25"></data>
            </data-set>
        </dchart-histo>
        </p>

        <h2>Scatter Plot</h2>
        <p>
        <dchart-scatter width="600" height="300">
            <axis>
                <x align="bottom" range="auto">x Axis</x>
                <y align="left" range="auto">y Axis</y>
            </axis>
            <data-set stroke="blue" fill="green" fill-opacity="0.8" stroke-width="1" data="dataSetLine1">
            </data-set>
            <data-set stroke="orange" fill="yellow" fill-opacity="0.8" stroke-width="0.5"  data="dataSetLine2">
            </data-set>
            <data-set stroke="red" fill="orange" fill-opacity="0.8" stroke-width="0.5">
                <data x="2" y="4"></data>
                <data x="4" y="8"></data>
                <data x="6" y="15"></data>
                <data x="8" y="25"></data>
            </data-set>
        </dchart-scatter>

        <dchart-scatter width="300" height="300">
            <axis>
                <x align="center" domain="[0,100]">x Axis</x>
                <y align="center" domain="[0,100]">y Axis</y>
            </axis>
            <data-set fill="orange" stroke="black" fill-opacity="0.7" stroke-width="2" data="dataSetLine1">
            </data-set>
            <data-set fill="green" stroke="black" fill-opacity="0.7" stroke-width="1.5" data="dataSetLine2">
            </data-set>
            <data-set fill="blue" stroke="black" fill-opacity="0.7" stroke-width="1">
                <data x="24" y="2"></data>
                <data x="12" y="3"></data>
                <data x="5" y="14"></data>
                <data x="21" y="25"></data>
            </data-set>
        </dchart-scatter>
        </p>

    </body>
</html>