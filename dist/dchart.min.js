/*! dchart - v0.0.2 - 2013-05-11 */
var __hasProp={}.hasOwnProperty,__extends=function(t,a){function e(){this.constructor=t}for(var n in a)__hasProp.call(a,n)&&(t[n]=a[n]);return e.prototype=a.prototype,t.prototype=new e,t.__super__=a.prototype,t},_dchart=function(){function t(){this.restrict="E",this.transclude=!0,this.scope={w:"=width",h:"=height"}}return t.prototype.getRandomColor=function(){return"hsl("+Math.random()*360+",100%,50%)"},t.prototype.getMinMaxValues=function(t){var a={x:0,y:0},e={x:0,y:0};return void 0===data||null===data?[a,e]:(angular.forEach(t,function(t){null!==t&&angular.forEach(t.data,function(t){t.x>e.x?e.x=t.x:t.x<a.x&&(a.x=t.x),t.y>e.y?e.y=t.y:t.y<a.y&&(a.y=t.y)})}),[a,e])},t.prototype.parseTransclude=function(t,a){var e=this,n=t(a);void 0!==n&&null!==n&&angular.forEach(n,function(t){t.nodeName.match(/^axis/i)?e.parseAxis(a.axis,t):t.nodeName.match(/^data-set/i)&&e.parseDataSet(a.data,t)})},t.prototype.createSvg=function(t,a){if(t.svg===void 0||t.svg===null){var e=d3.select(a).append("svg").attr("width",t.w+t.margin.left+t.margin.right).attr("height",t.h+t.margin.top+t.margin.bottom).append("g").attr("class","dchart-container").attr("transform","translate("+t.margin.left+", "+t.margin.top+")");t.svg=e}},t.prototype.ngCompile=function(){},t.prototype.ngLink=function(){},t.prototype.ngWatch=function(){},t.prototype.compile=function(t,a,e){var n=this,i=e;return n.ngCompile(t,a,e),function(t,a,e){t.margin={top:0,right:0,bottom:0,left:0},n.ngLink(t,a,e),n.initializeAxis(t),n.initializeData(t),n.parseTransclude(i,t),n.createSvg(t,a[0]),t.$watch("[data, axis]",function(t,a,e){n.drawAxis(e),n.drawData(e),n.ngWatch(t,a,e)},!0)}},t}();"undefined"!=typeof exports&&(exports._dchart=_dchart);var _dchart2D=function(t){function a(){var t=a.__super__.constructor.apply(this,arguments);return t}return __extends(a,t),a.prototype.parseDataSet=function(t,a){if(null!==a){var e={label:"",stroke:this.getRandomColor(),fill:"#000",opacity:1,fillOpacity:1,strokeWidth:1,interpolate:"linear",data:[]},n=this;angular.forEach(a.attributes,function(t){if(t.nodeName.match(/^label$/i))e.label=t.nodeValue;else if(t.nodeName.match(/^stroke$/i))e.stroke=t.nodeValue;else if(t.nodeName.match(/^interpolate$/i))e.interpolate=t.nodeValue;else if(t.nodeName.match(/^fill$/i))e.fill=t.nodeValue;else if(t.nodeName.match(/^stroke-width$/i))e.strokeWidth=parseFloat(t.nodeValue);else if(t.nodeName.match(/^fill-opacity$/i))e.fillOpacity=parseFloat(t.nodeValue);else if(t.nodeName.match(/^opacity$/i))e.opacity=parseFloat(t.nodeValue);else if(t.nodeName.match(/^data$/i)){var n=angular.element(a).scope();n.$parent.hasOwnProperty(t.nodeValue)&&(e.data=n.$parent[t.nodeValue])}}),angular.forEach(a.children,function(t){if(t.nodeName.match(/^data/i)){var a=n.parseData(t);null!==a&&e.data.push(a)}}),t.push(e)}},a.prototype.parseData=function(t){if(null===t)return null;var a={x:0,y:0,t:0,w:1,label:t.innerText};return angular.forEach(t.attributes,function(t){t.nodeName.match(/^x$/i)?a.x=parseFloat(t.nodeValue):t.nodeName.match(/^(y|val|value)$/i)?a.y=parseFloat(t.nodeValue):t.nodeName.match(/^(t|time)$/i)?a.t=parseFloat(t.nodeValue):t.nodeName.match(/^(w|weight)$/i)&&(a.w=parseFloat(t.nodeValue))}),a},a.prototype.parseAxis=function(t,a){if(null!==a){var e=this;angular.forEach(a.children,function(a){a.nodeName.match(/^x/i)?e.parseAxisAttributes(t.x,a):a.nodeName.match(/^y/i)&&e.parseAxisAttributes(t.y,a)})}},a.prototype.parseAxisAttributes=function(t,a){null!==a&&(t.label=a.innerText,angular.forEach(a.attributes,function(a){if(a.nodeName.match(/^ticks$/i))t.ticks=parseInt(a.nodeValue,10);else if(a.nodeName.match(/^range$/i))t.range=a.nodeValue;else if(a.nodeName.match(/^domain$/i))t.domain=a.nodeValue.replace(/[\[\]]/g,"").split(",");else if(a.nodeName.match(/^align$/i)){var e=a.nodeValue;t.type==="x"&&["top","center","bottom"].indexOf(e)>=0?t.align=e:t.type==="y"&&["left","center","right"].indexOf(e)>=0&&(t.align=e)}else if(a.nodeName.match(/^label-pos$/i)){var n=a.nodeValue;["start","middle","end"].indexOf(n)>=0&&(t.labelPos=n)}}))},a.prototype.initializeAxis=function(t){return t.axis===void 0||t.axis===null?(t.axis={x:{type:"x",domain:[0,10],label:"",align:"bottom",ticks:10,labelPos:"middle"},y:{type:"y",domain:[0,10],label:"",align:"left",ticks:10,labelPos:"middle"}},this):void 0},a.prototype.initializeData=function(t){return t.data===void 0||t.data===null?(t.data=[],this):void 0},a.prototype.drawAxis=function(t){var a=_dchart.prototype.getMinMaxValues(t.data);t.axis.x.range==="auto"&&(t.axis.x.domain=[a[0].x,a[1].x]),t.axis.y.range==="auto"&&(t.axis.y.domain=[a[0].y,a[1].y]);var e=t.axis.x.align==="center"?t.h*.5:t.axis.x.align==="top"?0:t.h,n=t.axis.x.align==="top"?"top":"bottom",i=t.axis.x.labelPos==="start"?0:t.axis.x.labelPos==="middle"?t.w*.5:t.w,r=t.axis.y.align==="center"?t.w*.5:t.axis.y.align==="right"?t.w:0,o=t.axis.y.align==="right"?"right":"left",s=t.axis.y.labelPos==="start"?t.h:t.axis.y.labelPos==="middle"?t.h*.5:0;t.xScale=d3.scale.linear().domain(t.axis.x.domain).range([0,t.w]),t.yScale=d3.scale.linear().domain(t.axis.y.domain).range([t.h,0]);var l=d3.svg.axis().scale(t.xScale).orient(n).ticks(t.axis.x.ticks),c=d3.svg.axis().scale(t.yScale).orient(o).ticks(t.axis.y.ticks);(t.svgXAxis===void 0||t.svgXAxis===null)&&(t.svgXAxis=t.svg.append("g").attr("class","axis").call(l),t.svgXAxisLabel=t.svg.append("g").attr("class","axis-label").append("text").attr("text-anchor",t.axis.x.labelPos).attr("x",i).attr("y",t.h+34)),(t.svgYAxis===void 0||t.svgYAxis===null)&&(t.svgYAxis=t.svg.append("g").attr("class","axis").call(c),t.svgYAxisLabel=t.svg.append("g").attr("class","axis-label").append("text").attr("text-anchor",t.axis.y.labelPos).attr("x",-s).attr("y",-34).attr("transform","rotate(-90)")),t.svgXAxis.transition().duration(150).ease("cubicin").attr("transform","translate(0,"+e+")").call(l),t.svgYAxis.transition().duration(150).ease("cubicin").attr("transform","translate("+r+",0)").call(c),t.svgXAxisLabel.text(t.axis.x.label),t.svgYAxisLabel.text(t.axis.y.label)},a}(_dchart);"undefined"!=typeof exports&&(exports._dchart2D=_dchart2D);var _dchartHisto=function(t){function a(){var t=a.__super__.constructor.apply(this,arguments);return t}return __extends(a,t),a.prototype.ngLink=function(t){t.margin={top:50,right:50,bottom:50,left:50}},a.prototype.ngWatch=function(){},a.prototype.drawData=function(t){var a=(t.data.length,t.w/t.axis.x.ticks*.5);(t.svgData===void 0||t.svgData===null)&&(t.svgData=[]),angular.forEach(t.data,function(e,n){(t.svgData[n]===void 0||t.svgData[n]===null)&&(t.svgData[n]=t.svg.append("g").attr("class","data"));var i=t.svgData[n].selectAll("rect").data(e.data,function(t){return t.y});i.attr("x",function(e){return t.xScale(e.x)-a}).attr("width",function(){return 2*a}),i.enter().append("rect").style("stroke",e.stroke).style("fill",e.fill).style("opacity",e.opacity).style("fill-opacity",e.fillOpacity).style("stroke-width",e.strokeWidth).attr("x",function(e){return t.xScale(e.x)-a}).attr("y",t.h).attr("width",function(){return 2*a}).attr("height",0).transition().duration(150).ease("cubicin").attr("y",function(a){return t.yScale(a.y)}).attr("height",function(a){return t.h-t.yScale(a.y)}),i.exit().transition().duration(150).ease("cubicout").attr("y",t.h).attr("height",0).each("end",function(){d3.select(this).remove()})})},a}(_dchart2D);"undefined"!=typeof exports&&(exports._dchartHisto=_dchartHisto),angular.module("dchart.histo",[]).directive("dchartHisto",function(){return new _dchartHisto});var _dchartLine=function(t){function a(){var t=a.__super__.constructor.apply(this,arguments);return t}return __extends(a,t),a.prototype.ngLink=function(t){t.margin={top:50,right:50,bottom:50,left:50}},a.prototype.ngWatch=function(){},a.prototype.drawData=function(t){(t.svgData===void 0||t.svgData===null)&&(t.svgData=[],t.lineFn=[]),angular.forEach(t.data,function(a,e){(t.svgData[e]===void 0||t.svgData[e]===null)&&(t.svgData[e]=t.svg.append("g").attr("class","data").append("svg:path"),t.lineFn[e]=d3.svg.line().interpolate(a.interpolate).x(function(a){return t.xScale(a.x)}).y(function(a){return t.yScale(a.y)})),t.svgData[e].transition().duration(150).ease("cubicin").attr("d",t.lineFn[e](a.data)).style("stroke",a.stroke).style("fill","none").style("stroke-width",a.strokeWidth)})},a}(_dchart2D);"undefined"!=typeof exports&&(exports._dchartLine=_dchartLine),angular.module("dchart.line",[]).directive("dchartLine",function(){return new _dchartLine});var _dchartScatter=function(t){function a(){var t=a.__super__.constructor.apply(this,arguments);return t}return __extends(a,t),a.prototype.ngLink=function(t){t.margin={top:50,right:50,bottom:50,left:50}},a.prototype.ngWatch=function(){},a.prototype.drawData=function(t){var a=10;(t.svgData===void 0||t.svgData===null)&&(t.svgData=[]),angular.forEach(t.data,function(e,n){(t.svgData[n]===void 0||t.svgData[n]===null)&&(t.svgData[n]=t.svg.append("g").attr("class","data"));var i=t.svgData[n].selectAll("circle").data(e.data,function(t){return t.y});i.exit().transition().duration(150).ease("cubicout").attr("r",0).each("end",function(){d3.select(this).remove()}),i.attr("cx",function(a){return t.xScale(a.x)}).attr("cy",function(a){return t.yScale(a.y)}),i.enter().append("circle").style("stroke",e.stroke).style("fill",e.fill).style("opacity",e.opacity).style("fill-opacity",e.fillOpacity).style("stroke-width",e.strokeWidth).attr("cx",function(a){return t.xScale(a.x)}).attr("cy",function(a){return t.yScale(a.y)}).attr("r",0).transition().duration(150).ease("cubicin").attr("r",function(t){return t.w*a})})},a}(_dchart2D);"undefined"!=typeof exports&&(exports._dchartScatter=_dchartScatter),angular.module("dchart.scatter",[]).directive("dchartScatter",function(){return new _dchartScatter});var __hasProp={}.hasOwnProperty,__extends=function(t,a){function e(){this.constructor=t}for(var n in a)__hasProp.call(a,n)&&(t[n]=a[n]);return e.prototype=a.prototype,t.prototype=new e,t.__super__=a.prototype,t},_dchart=function(){function t(){this.restrict="E",this.transclude=!0,this.scope={w:"=width",h:"=height"}}return t.prototype.getRandomColor=function(){return"hsl("+Math.random()*360+",100%,50%)"},t.prototype.getMinMaxValues=function(t){var a={x:0,y:0},e={x:0,y:0};return void 0===data||null===data?[a,e]:(angular.forEach(t,function(t){null!==t&&angular.forEach(t.data,function(t){t.x>e.x?e.x=t.x:t.x<a.x&&(a.x=t.x),t.y>e.y?e.y=t.y:t.y<a.y&&(a.y=t.y)})}),[a,e])},t.prototype.parseTransclude=function(t,a){var e=this,n=t(a);void 0!==n&&null!==n&&angular.forEach(n,function(t){t.nodeName.match(/^axis/i)?e.parseAxis(a.axis,t):t.nodeName.match(/^data-set/i)&&e.parseDataSet(a.data,t)})},t.prototype.createSvg=function(t,a){if(t.svg===void 0||t.svg===null){var e=d3.select(a).append("svg").attr("width",t.w+t.margin.left+t.margin.right).attr("height",t.h+t.margin.top+t.margin.bottom).append("g").attr("class","dchart-container").attr("transform","translate("+t.margin.left+", "+t.margin.top+")");t.svg=e}},t.prototype.ngCompile=function(){},t.prototype.ngLink=function(){},t.prototype.ngWatch=function(){},t.prototype.compile=function(t,a,e){var n=this,i=e;return n.ngCompile(t,a,e),function(t,a,e){t.margin={top:0,right:0,bottom:0,left:0},n.ngLink(t,a,e),n.initializeAxis(t),n.initializeData(t),n.parseTransclude(i,t),n.createSvg(t,a[0]),t.$watch("[data, axis]",function(t,a,e){n.drawAxis(e),n.drawData(e),n.ngWatch(t,a,e)},!0)}},t}();"undefined"!=typeof exports&&(exports._dchart=_dchart);var _dchart2D=function(t){function a(){var t=a.__super__.constructor.apply(this,arguments);return t}return __extends(a,t),a.prototype.parseDataSet=function(t,a){if(null!==a){var e={label:"",stroke:this.getRandomColor(),fill:"#000",opacity:1,fillOpacity:1,strokeWidth:1,interpolate:"linear",data:[]},n=this;angular.forEach(a.attributes,function(t){if(t.nodeName.match(/^label$/i))e.label=t.nodeValue;else if(t.nodeName.match(/^stroke$/i))e.stroke=t.nodeValue;else if(t.nodeName.match(/^interpolate$/i))e.interpolate=t.nodeValue;else if(t.nodeName.match(/^fill$/i))e.fill=t.nodeValue;else if(t.nodeName.match(/^stroke-width$/i))e.strokeWidth=parseFloat(t.nodeValue);else if(t.nodeName.match(/^fill-opacity$/i))e.fillOpacity=parseFloat(t.nodeValue);else if(t.nodeName.match(/^opacity$/i))e.opacity=parseFloat(t.nodeValue);else if(t.nodeName.match(/^data$/i)){var n=angular.element(a).scope();n.$parent.hasOwnProperty(t.nodeValue)&&(e.data=n.$parent[t.nodeValue])}}),angular.forEach(a.children,function(t){if(t.nodeName.match(/^data/i)){var a=n.parseData(t);null!==a&&e.data.push(a)}}),t.push(e)}},a.prototype.parseData=function(t){if(null===t)return null;var a={x:0,y:0,t:0,w:1,label:t.innerText};return angular.forEach(t.attributes,function(t){t.nodeName.match(/^x$/i)?a.x=parseFloat(t.nodeValue):t.nodeName.match(/^(y|val|value)$/i)?a.y=parseFloat(t.nodeValue):t.nodeName.match(/^(t|time)$/i)?a.t=parseFloat(t.nodeValue):t.nodeName.match(/^(w|weight)$/i)&&(a.w=parseFloat(t.nodeValue))}),a},a.prototype.parseAxis=function(t,a){if(null!==a){var e=this;angular.forEach(a.children,function(a){a.nodeName.match(/^x/i)?e.parseAxisAttributes(t.x,a):a.nodeName.match(/^y/i)&&e.parseAxisAttributes(t.y,a)})}},a.prototype.parseAxisAttributes=function(t,a){null!==a&&(t.label=a.innerText,angular.forEach(a.attributes,function(a){if(a.nodeName.match(/^ticks$/i))t.ticks=parseInt(a.nodeValue,10);else if(a.nodeName.match(/^range$/i))t.range=a.nodeValue;else if(a.nodeName.match(/^domain$/i))t.domain=a.nodeValue.replace(/[\[\]]/g,"").split(",");else if(a.nodeName.match(/^align$/i)){var e=a.nodeValue;t.type==="x"&&["top","center","bottom"].indexOf(e)>=0?t.align=e:t.type==="y"&&["left","center","right"].indexOf(e)>=0&&(t.align=e)}else if(a.nodeName.match(/^label-pos$/i)){var n=a.nodeValue;["start","middle","end"].indexOf(n)>=0&&(t.labelPos=n)}}))},a.prototype.initializeAxis=function(t){return t.axis===void 0||t.axis===null?(t.axis={x:{type:"x",domain:[0,10],label:"",align:"bottom",ticks:10,labelPos:"middle"},y:{type:"y",domain:[0,10],label:"",align:"left",ticks:10,labelPos:"middle"}},this):void 0},a.prototype.initializeData=function(t){return t.data===void 0||t.data===null?(t.data=[],this):void 0},a.prototype.drawAxis=function(t){var a=_dchart.prototype.getMinMaxValues(t.data);t.axis.x.range==="auto"&&(t.axis.x.domain=[a[0].x,a[1].x]),t.axis.y.range==="auto"&&(t.axis.y.domain=[a[0].y,a[1].y]);var e=t.axis.x.align==="center"?t.h*.5:t.axis.x.align==="top"?0:t.h,n=t.axis.x.align==="top"?"top":"bottom",i=t.axis.x.labelPos==="start"?0:t.axis.x.labelPos==="middle"?t.w*.5:t.w,r=t.axis.y.align==="center"?t.w*.5:t.axis.y.align==="right"?t.w:0,o=t.axis.y.align==="right"?"right":"left",s=t.axis.y.labelPos==="start"?t.h:t.axis.y.labelPos==="middle"?t.h*.5:0;t.xScale=d3.scale.linear().domain(t.axis.x.domain).range([0,t.w]),t.yScale=d3.scale.linear().domain(t.axis.y.domain).range([t.h,0]);var l=d3.svg.axis().scale(t.xScale).orient(n).ticks(t.axis.x.ticks),c=d3.svg.axis().scale(t.yScale).orient(o).ticks(t.axis.y.ticks);(t.svgXAxis===void 0||t.svgXAxis===null)&&(t.svgXAxis=t.svg.append("g").attr("class","axis").call(l),t.svgXAxisLabel=t.svg.append("g").attr("class","axis-label").append("text").attr("text-anchor",t.axis.x.labelPos).attr("x",i).attr("y",t.h+34)),(t.svgYAxis===void 0||t.svgYAxis===null)&&(t.svgYAxis=t.svg.append("g").attr("class","axis").call(c),t.svgYAxisLabel=t.svg.append("g").attr("class","axis-label").append("text").attr("text-anchor",t.axis.y.labelPos).attr("x",-s).attr("y",-34).attr("transform","rotate(-90)")),t.svgXAxis.transition().duration(150).ease("cubicin").attr("transform","translate(0,"+e+")").call(l),t.svgYAxis.transition().duration(150).ease("cubicin").attr("transform","translate("+r+",0)").call(c),t.svgXAxisLabel.text(t.axis.x.label),t.svgYAxisLabel.text(t.axis.y.label)},a}(_dchart);"undefined"!=typeof exports&&(exports._dchart2D=_dchart2D);var _dchartHisto=function(t){function a(){var t=a.__super__.constructor.apply(this,arguments);return t}return __extends(a,t),a.prototype.ngLink=function(t){t.margin={top:50,right:50,bottom:50,left:50}},a.prototype.ngWatch=function(){},a.prototype.drawData=function(t){var a=(t.data.length,t.w/t.axis.x.ticks*.5);(t.svgData===void 0||t.svgData===null)&&(t.svgData=[]),angular.forEach(t.data,function(e,n){(t.svgData[n]===void 0||t.svgData[n]===null)&&(t.svgData[n]=t.svg.append("g").attr("class","data"));var i=t.svgData[n].selectAll("rect").data(e.data,function(t){return t.y});i.attr("x",function(e){return t.xScale(e.x)-a}).attr("width",function(){return 2*a}),i.enter().append("rect").style("stroke",e.stroke).style("fill",e.fill).style("opacity",e.opacity).style("fill-opacity",e.fillOpacity).style("stroke-width",e.strokeWidth).attr("x",function(e){return t.xScale(e.x)-a}).attr("y",t.h).attr("width",function(){return 2*a}).attr("height",0).transition().duration(150).ease("cubicin").attr("y",function(a){return t.yScale(a.y)}).attr("height",function(a){return t.h-t.yScale(a.y)}),i.exit().transition().duration(150).ease("cubicout").attr("y",t.h).attr("height",0).each("end",function(){d3.select(this).remove()})})},a}(_dchart2D);"undefined"!=typeof exports&&(exports._dchartHisto=_dchartHisto),angular.module("dchart.histo",[]).directive("dchartHisto",function(){return new _dchartHisto});var _dchartLine=function(t){function a(){var t=a.__super__.constructor.apply(this,arguments);return t}return __extends(a,t),a.prototype.ngLink=function(t){t.margin={top:50,right:50,bottom:50,left:50}},a.prototype.ngWatch=function(){},a.prototype.drawData=function(t){(t.svgData===void 0||t.svgData===null)&&(t.svgData=[],t.lineFn=[]),angular.forEach(t.data,function(a,e){(t.svgData[e]===void 0||t.svgData[e]===null)&&(t.svgData[e]=t.svg.append("g").attr("class","data").append("svg:path"),t.lineFn[e]=d3.svg.line().interpolate(a.interpolate).x(function(a){return t.xScale(a.x)}).y(function(a){return t.yScale(a.y)})),t.svgData[e].transition().duration(150).ease("cubicin").attr("d",t.lineFn[e](a.data)).style("stroke",a.stroke).style("fill","none").style("stroke-width",a.strokeWidth)})},a}(_dchart2D);"undefined"!=typeof exports&&(exports._dchartLine=_dchartLine),angular.module("dchart.line",[]).directive("dchartLine",function(){return new _dchartLine});var _dchartScatter=function(t){function a(){var t=a.__super__.constructor.apply(this,arguments);return t}return __extends(a,t),a.prototype.ngLink=function(t){t.margin={top:50,right:50,bottom:50,left:50}},a.prototype.ngWatch=function(){},a.prototype.drawData=function(t){var a=10;(t.svgData===void 0||t.svgData===null)&&(t.svgData=[]),angular.forEach(t.data,function(e,n){(t.svgData[n]===void 0||t.svgData[n]===null)&&(t.svgData[n]=t.svg.append("g").attr("class","data"));var i=t.svgData[n].selectAll("circle").data(e.data,function(t){return t.y});i.exit().transition().duration(150).ease("cubicout").attr("r",0).each("end",function(){d3.select(this).remove()}),i.attr("cx",function(a){return t.xScale(a.x)}).attr("cy",function(a){return t.yScale(a.y)}),i.enter().append("circle").style("stroke",e.stroke).style("fill",e.fill).style("opacity",e.opacity).style("fill-opacity",e.fillOpacity).style("stroke-width",e.strokeWidth).attr("cx",function(a){return t.xScale(a.x)}).attr("cy",function(a){return t.yScale(a.y)}).attr("r",0).transition().duration(150).ease("cubicin").attr("r",function(t){return t.w*a})})},a}(_dchart2D);"undefined"!=typeof exports&&(exports._dchartScatter=_dchartScatter),angular.module("dchart.scatter",[]).directive("dchartScatter",function(){return new _dchartScatter});var __hasProp={}.hasOwnProperty,__extends=function(t,a){function e(){this.constructor=t}for(var n in a)__hasProp.call(a,n)&&(t[n]=a[n]);return e.prototype=a.prototype,t.prototype=new e,t.__super__=a.prototype,t},_dchart=function(){function t(){this.restrict="E",this.transclude=!0,this.scope={w:"=width",h:"=height"}}return t.prototype.getRandomColor=function(){return"hsl("+Math.random()*360+",100%,50%)"},t.prototype.getMinMaxValues=function(t){var a={x:0,y:0},e={x:0,y:0};return void 0===data||null===data?[a,e]:(angular.forEach(t,function(t){null!==t&&angular.forEach(t.data,function(t){t.x>e.x?e.x=t.x:t.x<a.x&&(a.x=t.x),t.y>e.y?e.y=t.y:t.y<a.y&&(a.y=t.y)})}),[a,e])},t.prototype.parseTransclude=function(t,a){var e=this,n=t(a);void 0!==n&&null!==n&&angular.forEach(n,function(t){t.nodeName.match(/^axis/i)?e.parseAxis(a.axis,t):t.nodeName.match(/^data-set/i)&&e.parseDataSet(a.data,t)})},t.prototype.createSvg=function(t,a){if(t.svg===void 0||t.svg===null){var e=d3.select(a).append("svg").attr("width",t.w+t.margin.left+t.margin.right).attr("height",t.h+t.margin.top+t.margin.bottom).append("g").attr("class","dchart-container").attr("transform","translate("+t.margin.left+", "+t.margin.top+")");t.svg=e}},t.prototype.ngCompile=function(){},t.prototype.ngLink=function(){},t.prototype.ngWatch=function(){},t.prototype.compile=function(t,a,e){var n=this,i=e;return n.ngCompile(t,a,e),function(t,a,e){t.margin={top:0,right:0,bottom:0,left:0},n.ngLink(t,a,e),n.initializeAxis(t),n.initializeData(t),n.parseTransclude(i,t),n.createSvg(t,a[0]),t.$watch("[data, axis]",function(t,a,e){n.drawAxis(e),n.drawData(e),n.ngWatch(t,a,e)},!0)}},t}();"undefined"!=typeof exports&&(exports._dchart=_dchart);var _dchart2D=function(t){function a(){var t=a.__super__.constructor.apply(this,arguments);return t}return __extends(a,t),a.prototype.parseDataSet=function(t,a){if(null!==a){var e={label:"",stroke:this.getRandomColor(),fill:"#000",opacity:1,fillOpacity:1,strokeWidth:1,interpolate:"linear",data:[]},n=this;angular.forEach(a.attributes,function(t){if(t.nodeName.match(/^label$/i))e.label=t.nodeValue;else if(t.nodeName.match(/^stroke$/i))e.stroke=t.nodeValue;else if(t.nodeName.match(/^interpolate$/i))e.interpolate=t.nodeValue;else if(t.nodeName.match(/^fill$/i))e.fill=t.nodeValue;else if(t.nodeName.match(/^stroke-width$/i))e.strokeWidth=parseFloat(t.nodeValue);else if(t.nodeName.match(/^fill-opacity$/i))e.fillOpacity=parseFloat(t.nodeValue);else if(t.nodeName.match(/^opacity$/i))e.opacity=parseFloat(t.nodeValue);else if(t.nodeName.match(/^data$/i)){var n=angular.element(a).scope();n.$parent.hasOwnProperty(t.nodeValue)&&(e.data=n.$parent[t.nodeValue])}}),angular.forEach(a.children,function(t){if(t.nodeName.match(/^data/i)){var a=n.parseData(t);null!==a&&e.data.push(a)}}),t.push(e)}},a.prototype.parseData=function(t){if(null===t)return null;var a={x:0,y:0,t:0,w:1,label:t.innerText};return angular.forEach(t.attributes,function(t){t.nodeName.match(/^x$/i)?a.x=parseFloat(t.nodeValue):t.nodeName.match(/^(y|val|value)$/i)?a.y=parseFloat(t.nodeValue):t.nodeName.match(/^(t|time)$/i)?a.t=parseFloat(t.nodeValue):t.nodeName.match(/^(w|weight)$/i)&&(a.w=parseFloat(t.nodeValue))}),a},a.prototype.parseAxis=function(t,a){if(null!==a){var e=this;angular.forEach(a.children,function(a){a.nodeName.match(/^x/i)?e.parseAxisAttributes(t.x,a):a.nodeName.match(/^y/i)&&e.parseAxisAttributes(t.y,a)})}},a.prototype.parseAxisAttributes=function(t,a){null!==a&&(t.label=a.innerText,angular.forEach(a.attributes,function(a){if(a.nodeName.match(/^ticks$/i))t.ticks=parseInt(a.nodeValue,10);else if(a.nodeName.match(/^range$/i))t.range=a.nodeValue;else if(a.nodeName.match(/^domain$/i))t.domain=a.nodeValue.replace(/[\[\]]/g,"").split(",");else if(a.nodeName.match(/^align$/i)){var e=a.nodeValue;t.type==="x"&&["top","center","bottom"].indexOf(e)>=0?t.align=e:t.type==="y"&&["left","center","right"].indexOf(e)>=0&&(t.align=e)}else if(a.nodeName.match(/^label-pos$/i)){var n=a.nodeValue;["start","middle","end"].indexOf(n)>=0&&(t.labelPos=n)}}))},a.prototype.initializeAxis=function(t){return t.axis===void 0||t.axis===null?(t.axis={x:{type:"x",domain:[0,10],label:"",align:"bottom",ticks:10,labelPos:"middle"},y:{type:"y",domain:[0,10],label:"",align:"left",ticks:10,labelPos:"middle"}},this):void 0},a.prototype.initializeData=function(t){return t.data===void 0||t.data===null?(t.data=[],this):void 0},a.prototype.drawAxis=function(t){var a=_dchart.prototype.getMinMaxValues(t.data);t.axis.x.range==="auto"&&(t.axis.x.domain=[a[0].x,a[1].x]),t.axis.y.range==="auto"&&(t.axis.y.domain=[a[0].y,a[1].y]);var e=t.axis.x.align==="center"?t.h*.5:t.axis.x.align==="top"?0:t.h,n=t.axis.x.align==="top"?"top":"bottom",i=t.axis.x.labelPos==="start"?0:t.axis.x.labelPos==="middle"?t.w*.5:t.w,r=t.axis.y.align==="center"?t.w*.5:t.axis.y.align==="right"?t.w:0,o=t.axis.y.align==="right"?"right":"left",s=t.axis.y.labelPos==="start"?t.h:t.axis.y.labelPos==="middle"?t.h*.5:0;t.xScale=d3.scale.linear().domain(t.axis.x.domain).range([0,t.w]),t.yScale=d3.scale.linear().domain(t.axis.y.domain).range([t.h,0]);var l=d3.svg.axis().scale(t.xScale).orient(n).ticks(t.axis.x.ticks),c=d3.svg.axis().scale(t.yScale).orient(o).ticks(t.axis.y.ticks);(t.svgXAxis===void 0||t.svgXAxis===null)&&(t.svgXAxis=t.svg.append("g").attr("class","axis").call(l),t.svgXAxisLabel=t.svg.append("g").attr("class","axis-label").append("text").attr("text-anchor",t.axis.x.labelPos).attr("x",i).attr("y",t.h+34)),(t.svgYAxis===void 0||t.svgYAxis===null)&&(t.svgYAxis=t.svg.append("g").attr("class","axis").call(c),t.svgYAxisLabel=t.svg.append("g").attr("class","axis-label").append("text").attr("text-anchor",t.axis.y.labelPos).attr("x",-s).attr("y",-34).attr("transform","rotate(-90)")),t.svgXAxis.transition().duration(150).ease("cubicin").attr("transform","translate(0,"+e+")").call(l),t.svgYAxis.transition().duration(150).ease("cubicin").attr("transform","translate("+r+",0)").call(c),t.svgXAxisLabel.text(t.axis.x.label),t.svgYAxisLabel.text(t.axis.y.label)},a}(_dchart);"undefined"!=typeof exports&&(exports._dchart2D=_dchart2D);var _dchartHisto=function(t){function a(){var t=a.__super__.constructor.apply(this,arguments);return t}return __extends(a,t),a.prototype.ngLink=function(t){t.margin={top:50,right:50,bottom:50,left:50}},a.prototype.ngWatch=function(){},a.prototype.drawData=function(t){var a=(t.data.length,t.w/t.axis.x.ticks*.5);(t.svgData===void 0||t.svgData===null)&&(t.svgData=[]),angular.forEach(t.data,function(e,n){(t.svgData[n]===void 0||t.svgData[n]===null)&&(t.svgData[n]=t.svg.append("g").attr("class","data"));var i=t.svgData[n].selectAll("rect").data(e.data,function(t){return t.y});i.attr("x",function(e){return t.xScale(e.x)-a}).attr("width",function(){return 2*a}),i.enter().append("rect").style("stroke",e.stroke).style("fill",e.fill).style("opacity",e.opacity).style("fill-opacity",e.fillOpacity).style("stroke-width",e.strokeWidth).attr("x",function(e){return t.xScale(e.x)-a}).attr("y",t.h).attr("width",function(){return 2*a}).attr("height",0).transition().duration(150).ease("cubicin").attr("y",function(a){return t.yScale(a.y)}).attr("height",function(a){return t.h-t.yScale(a.y)}),i.exit().transition().duration(150).ease("cubicout").attr("y",t.h).attr("height",0).each("end",function(){d3.select(this).remove()})})},a}(_dchart2D);angular.module("dchart.histo",[]).directive("dchartHisto",function(){return new _dchartHisto});var _dchartLine=function(t){function a(){var t=a.__super__.constructor.apply(this,arguments);return t}return __extends(a,t),a.prototype.ngLink=function(t){t.margin={top:50,right:50,bottom:50,left:50}},a.prototype.ngWatch=function(){},a.prototype.drawData=function(t){(t.svgData===void 0||t.svgData===null)&&(t.svgData=[],t.lineFn=[]),angular.forEach(t.data,function(a,e){(t.svgData[e]===void 0||t.svgData[e]===null)&&(t.svgData[e]=t.svg.append("g").attr("class","data").append("svg:path"),t.lineFn[e]=d3.svg.line().interpolate(a.interpolate).x(function(a){return t.xScale(a.x)}).y(function(a){return t.yScale(a.y)})),t.svgData[e].transition().duration(150).ease("cubicin").attr("d",t.lineFn[e](a.data)).style("stroke",a.stroke).style("fill","none").style("stroke-width",a.strokeWidth)})},a}(_dchart2D);angular.module("dchart.line",[]).directive("dchartLine",function(){return new _dchartLine});var _dchartScatter=function(t){function a(){var t=a.__super__.constructor.apply(this,arguments);return t}return __extends(a,t),a.prototype.ngLink=function(t){t.margin={top:50,right:50,bottom:50,left:50}},a.prototype.ngWatch=function(){},a.prototype.drawData=function(t){var a=10;(t.svgData===void 0||t.svgData===null)&&(t.svgData=[]),angular.forEach(t.data,function(e,n){(t.svgData[n]===void 0||t.svgData[n]===null)&&(t.svgData[n]=t.svg.append("g").attr("class","data"));var i=t.svgData[n].selectAll("circle").data(e.data,function(t){return t.y});i.exit().transition().duration(150).ease("cubicout").attr("r",0).each("end",function(){d3.select(this).remove()}),i.attr("cx",function(a){return t.xScale(a.x)}).attr("cy",function(a){return t.yScale(a.y)}),i.enter().append("circle").style("stroke",e.stroke).style("fill",e.fill).style("opacity",e.opacity).style("fill-opacity",e.fillOpacity).style("stroke-width",e.strokeWidth).attr("cx",function(a){return t.xScale(a.x)}).attr("cy",function(a){return t.yScale(a.y)}).attr("r",0).transition().duration(150).ease("cubicin").attr("r",function(t){return t.w*a})})},a}(_dchart2D);angular.module("dchart.scatter",[]).directive("dchartScatter",function(){return new _dchartScatter});var __hasProp={}.hasOwnProperty,__extends=function(t,a){function e(){this.constructor=t}for(var n in a)__hasProp.call(a,n)&&(t[n]=a[n]);return e.prototype=a.prototype,t.prototype=new e,t.__super__=a.prototype,t},_dchart=function(){function t(){this.restrict="E",this.transclude=!0,this.scope={w:"=width",h:"=height"}}return t.prototype.getRandomColor=function(){return"hsl("+Math.random()*360+",100%,50%)"},t.prototype.getMinMaxValues=function(t){var a={x:0,y:0},e={x:0,y:0};return void 0===data||null===data?[a,e]:(angular.forEach(t,function(t){null!==t&&angular.forEach(t.data,function(t){t.x>e.x?e.x=t.x:t.x<a.x&&(a.x=t.x),t.y>e.y?e.y=t.y:t.y<a.y&&(a.y=t.y)})}),[a,e])},t.prototype.parseTransclude=function(t,a){var e=this,n=t(a);void 0!==n&&null!==n&&angular.forEach(n,function(t){t.nodeName.match(/^axis/i)?e.parseAxis(a.axis,t):t.nodeName.match(/^data-set/i)&&e.parseDataSet(a.data,t)})},t.prototype.createSvg=function(t,a){if(t.svg===void 0||t.svg===null){var e=d3.select(a).append("svg").attr("width",t.w+t.margin.left+t.margin.right).attr("height",t.h+t.margin.top+t.margin.bottom).append("g").attr("class","dchart-container").attr("transform","translate("+t.margin.left+", "+t.margin.top+")");t.svg=e}},t.prototype.ngCompile=function(){},t.prototype.ngLink=function(){},t.prototype.ngWatch=function(){},t.prototype.compile=function(t,a,e){var n=this,i=e;return n.ngCompile(t,a,e),function(t,a,e){t.margin={top:0,right:0,bottom:0,left:0},n.ngLink(t,a,e),n.initializeAxis(t),n.initializeData(t),n.parseTransclude(i,t),n.createSvg(t,a[0]),t.$watch("[data, axis]",function(t,a,e){n.drawAxis(e),n.drawData(e),n.ngWatch(t,a,e)},!0)}},t}();"undefined"!=typeof exports&&(exports._dchart=_dchart);var _dchart2D=function(t){function a(){var t=a.__super__.constructor.apply(this,arguments);return t}return __extends(a,t),a.prototype.parseDataSet=function(t,a){if(null!==a){var e={label:"",stroke:this.getRandomColor(),fill:"#000",opacity:1,fillOpacity:1,strokeWidth:1,interpolate:"linear",data:[]},n=this;angular.forEach(a.attributes,function(t){if(t.nodeName.match(/^label$/i))e.label=t.nodeValue;else if(t.nodeName.match(/^stroke$/i))e.stroke=t.nodeValue;else if(t.nodeName.match(/^interpolate$/i))e.interpolate=t.nodeValue;else if(t.nodeName.match(/^fill$/i))e.fill=t.nodeValue;else if(t.nodeName.match(/^stroke-width$/i))e.strokeWidth=parseFloat(t.nodeValue);else if(t.nodeName.match(/^fill-opacity$/i))e.fillOpacity=parseFloat(t.nodeValue);else if(t.nodeName.match(/^opacity$/i))e.opacity=parseFloat(t.nodeValue);else if(t.nodeName.match(/^data$/i)){var n=angular.element(a).scope();n.$parent.hasOwnProperty(t.nodeValue)&&(e.data=n.$parent[t.nodeValue])}}),angular.forEach(a.children,function(t){if(t.nodeName.match(/^data/i)){var a=n.parseData(t);null!==a&&e.data.push(a)}}),t.push(e)}},a.prototype.parseData=function(t){if(null===t)return null;var a={x:0,y:0,t:0,w:1,label:t.innerText};return angular.forEach(t.attributes,function(t){t.nodeName.match(/^x$/i)?a.x=parseFloat(t.nodeValue):t.nodeName.match(/^(y|val|value)$/i)?a.y=parseFloat(t.nodeValue):t.nodeName.match(/^(t|time)$/i)?a.t=parseFloat(t.nodeValue):t.nodeName.match(/^(w|weight)$/i)&&(a.w=parseFloat(t.nodeValue))
}),a},a.prototype.parseAxis=function(t,a){if(null!==a){var e=this;angular.forEach(a.children,function(a){a.nodeName.match(/^x/i)?e.parseAxisAttributes(t.x,a):a.nodeName.match(/^y/i)&&e.parseAxisAttributes(t.y,a)})}},a.prototype.parseAxisAttributes=function(t,a){null!==a&&(t.label=a.innerText,angular.forEach(a.attributes,function(a){if(a.nodeName.match(/^ticks$/i))t.ticks=parseInt(a.nodeValue,10);else if(a.nodeName.match(/^range$/i))t.range=a.nodeValue;else if(a.nodeName.match(/^domain$/i))t.domain=a.nodeValue.replace(/[\[\]]/g,"").split(",");else if(a.nodeName.match(/^align$/i)){var e=a.nodeValue;t.type==="x"&&["top","center","bottom"].indexOf(e)>=0?t.align=e:t.type==="y"&&["left","center","right"].indexOf(e)>=0&&(t.align=e)}else if(a.nodeName.match(/^label-pos$/i)){var n=a.nodeValue;["start","middle","end"].indexOf(n)>=0&&(t.labelPos=n)}}))},a.prototype.initializeAxis=function(t){return t.axis===void 0||t.axis===null?(t.axis={x:{type:"x",domain:[0,10],label:"",align:"bottom",ticks:10,labelPos:"middle"},y:{type:"y",domain:[0,10],label:"",align:"left",ticks:10,labelPos:"middle"}},this):void 0},a.prototype.initializeData=function(t){return t.data===void 0||t.data===null?(t.data=[],this):void 0},a.prototype.drawAxis=function(t){var a=_dchart.prototype.getMinMaxValues(t.data);t.axis.x.range==="auto"&&(t.axis.x.domain=[a[0].x,a[1].x]),t.axis.y.range==="auto"&&(t.axis.y.domain=[a[0].y,a[1].y]);var e=t.axis.x.align==="center"?t.h*.5:t.axis.x.align==="top"?0:t.h,n=t.axis.x.align==="top"?"top":"bottom",i=t.axis.x.labelPos==="start"?0:t.axis.x.labelPos==="middle"?t.w*.5:t.w,r=t.axis.y.align==="center"?t.w*.5:t.axis.y.align==="right"?t.w:0,o=t.axis.y.align==="right"?"right":"left",s=t.axis.y.labelPos==="start"?t.h:t.axis.y.labelPos==="middle"?t.h*.5:0;t.xScale=d3.scale.linear().domain(t.axis.x.domain).range([0,t.w]),t.yScale=d3.scale.linear().domain(t.axis.y.domain).range([t.h,0]);var l=d3.svg.axis().scale(t.xScale).orient(n).ticks(t.axis.x.ticks),c=d3.svg.axis().scale(t.yScale).orient(o).ticks(t.axis.y.ticks);(t.svgXAxis===void 0||t.svgXAxis===null)&&(t.svgXAxis=t.svg.append("g").attr("class","axis").call(l),t.svgXAxisLabel=t.svg.append("g").attr("class","axis-label").append("text").attr("text-anchor",t.axis.x.labelPos).attr("x",i).attr("y",t.h+34)),(t.svgYAxis===void 0||t.svgYAxis===null)&&(t.svgYAxis=t.svg.append("g").attr("class","axis").call(c),t.svgYAxisLabel=t.svg.append("g").attr("class","axis-label").append("text").attr("text-anchor",t.axis.y.labelPos).attr("x",-s).attr("y",-34).attr("transform","rotate(-90)")),t.svgXAxis.transition().duration(150).ease("cubicin").attr("transform","translate(0,"+e+")").call(l),t.svgYAxis.transition().duration(150).ease("cubicin").attr("transform","translate("+r+",0)").call(c),t.svgXAxisLabel.text(t.axis.x.label),t.svgYAxisLabel.text(t.axis.y.label)},a}(_dchart),_dchartHisto=function(t){function a(){var t=a.__super__.constructor.apply(this,arguments);return t}return __extends(a,t),a.prototype.ngLink=function(t){t.margin={top:50,right:50,bottom:50,left:50}},a.prototype.ngWatch=function(){},a.prototype.drawData=function(t){var a=(t.data.length,t.w/t.axis.x.ticks*.5);(t.svgData===void 0||t.svgData===null)&&(t.svgData=[]),angular.forEach(t.data,function(e,n){(t.svgData[n]===void 0||t.svgData[n]===null)&&(t.svgData[n]=t.svg.append("g").attr("class","data"));var i=t.svgData[n].selectAll("rect").data(e.data,function(t){return t.y});i.attr("x",function(e){return t.xScale(e.x)-a}).attr("width",function(){return 2*a}),i.enter().append("rect").style("stroke",e.stroke).style("fill",e.fill).style("opacity",e.opacity).style("fill-opacity",e.fillOpacity).style("stroke-width",e.strokeWidth).attr("x",function(e){return t.xScale(e.x)-a}).attr("y",t.h).attr("width",function(){return 2*a}).attr("height",0).transition().duration(150).ease("cubicin").attr("y",function(a){return t.yScale(a.y)}).attr("height",function(a){return t.h-t.yScale(a.y)}),i.exit().transition().duration(150).ease("cubicout").attr("y",t.h).attr("height",0).each("end",function(){d3.select(this).remove()})})},a}(_dchart2D);angular.module("dchart.histo",[]).directive("dchartHisto",function(){return new _dchartHisto});var _dchartLine=function(t){function a(){var t=a.__super__.constructor.apply(this,arguments);return t}return __extends(a,t),a.prototype.ngLink=function(t){t.margin={top:50,right:50,bottom:50,left:50}},a.prototype.ngWatch=function(){},a.prototype.drawData=function(t){(t.svgData===void 0||t.svgData===null)&&(t.svgData=[],t.lineFn=[]),angular.forEach(t.data,function(a,e){(t.svgData[e]===void 0||t.svgData[e]===null)&&(t.svgData[e]=t.svg.append("g").attr("class","data").append("svg:path"),t.lineFn[e]=d3.svg.line().interpolate(a.interpolate).x(function(a){return t.xScale(a.x)}).y(function(a){return t.yScale(a.y)})),t.svgData[e].transition().duration(150).ease("cubicin").attr("d",t.lineFn[e](a.data)).style("stroke",a.stroke).style("fill","none").style("stroke-width",a.strokeWidth)})},a}(_dchart2D);angular.module("dchart.line",[]).directive("dchartLine",function(){return new _dchartLine});var _dchartScatter=function(t){function a(){var t=a.__super__.constructor.apply(this,arguments);return t}return __extends(a,t),a.prototype.ngLink=function(t){t.margin={top:50,right:50,bottom:50,left:50}},a.prototype.ngWatch=function(){},a.prototype.drawData=function(t){var a=10;(t.svgData===void 0||t.svgData===null)&&(t.svgData=[]),angular.forEach(t.data,function(e,n){(t.svgData[n]===void 0||t.svgData[n]===null)&&(t.svgData[n]=t.svg.append("g").attr("class","data"));var i=t.svgData[n].selectAll("circle").data(e.data,function(t){return t.y});i.exit().transition().duration(150).ease("cubicout").attr("r",0).each("end",function(){d3.select(this).remove()}),i.attr("cx",function(a){return t.xScale(a.x)}).attr("cy",function(a){return t.yScale(a.y)}),i.enter().append("circle").style("stroke",e.stroke).style("fill",e.fill).style("opacity",e.opacity).style("fill-opacity",e.fillOpacity).style("stroke-width",e.strokeWidth).attr("cx",function(a){return t.xScale(a.x)}).attr("cy",function(a){return t.yScale(a.y)}).attr("r",0).transition().duration(150).ease("cubicin").attr("r",function(t){return t.w*a})})},a}(_dchart2D);angular.module("dchart.scatter",[]).directive("dchartScatter",function(){return new _dchartScatter});var __hasProp={}.hasOwnProperty,__extends=function(t,a){function e(){this.constructor=t}for(var n in a)__hasProp.call(a,n)&&(t[n]=a[n]);return e.prototype=a.prototype,t.prototype=new e,t.__super__=a.prototype,t},_dchart=function(){function t(){this.restrict="E",this.transclude=!0,this.scope={w:"=width",h:"=height"}}return t.prototype.getRandomColor=function(){return"hsl("+Math.random()*360+",100%,50%)"},t.prototype.getMinMaxValues=function(t){var a={x:0,y:0},e={x:0,y:0};return void 0===data||null===data?[a,e]:(angular.forEach(t,function(t){null!==t&&angular.forEach(t.data,function(t){t.x>e.x?e.x=t.x:t.x<a.x&&(a.x=t.x),t.y>e.y?e.y=t.y:t.y<a.y&&(a.y=t.y)})}),[a,e])},t.prototype.parseTransclude=function(t,a){var e=this,n=t(a);void 0!==n&&null!==n&&angular.forEach(n,function(t){t.nodeName.match(/^axis/i)?e.parseAxis(a.axis,t):t.nodeName.match(/^data-set/i)&&e.parseDataSet(a.data,t)})},t.prototype.createSvg=function(t,a){if(t.svg===void 0||t.svg===null){var e=d3.select(a).append("svg").attr("width",t.w+t.margin.left+t.margin.right).attr("height",t.h+t.margin.top+t.margin.bottom).append("g").attr("class","dchart-container").attr("transform","translate("+t.margin.left+", "+t.margin.top+")");t.svg=e}},t.prototype.ngCompile=function(){},t.prototype.ngLink=function(){},t.prototype.ngWatch=function(){},t.prototype.compile=function(t,a,e){var n=this,i=e;return n.ngCompile(t,a,e),function(t,a,e){t.margin={top:0,right:0,bottom:0,left:0},n.ngLink(t,a,e),n.initializeAxis(t),n.initializeData(t),n.parseTransclude(i,t),n.createSvg(t,a[0]),t.$watch("[data, axis]",function(t,a,e){n.drawAxis(e),n.drawData(e),n.ngWatch(t,a,e)},!0)}},t}();"undefined"!=typeof exports&&(exports._dchart=_dchart);var _dchart2D=function(t){function a(){var t=a.__super__.constructor.apply(this,arguments);return t}return __extends(a,t),a.prototype.parseDataSet=function(t,a){if(null!==a){var e={label:"",stroke:this.getRandomColor(),fill:"#000",opacity:1,fillOpacity:1,strokeWidth:1,interpolate:"linear",data:[]},n=this;angular.forEach(a.attributes,function(t){if(t.nodeName.match(/^label$/i))e.label=t.nodeValue;else if(t.nodeName.match(/^stroke$/i))e.stroke=t.nodeValue;else if(t.nodeName.match(/^interpolate$/i))e.interpolate=t.nodeValue;else if(t.nodeName.match(/^fill$/i))e.fill=t.nodeValue;else if(t.nodeName.match(/^stroke-width$/i))e.strokeWidth=parseFloat(t.nodeValue);else if(t.nodeName.match(/^fill-opacity$/i))e.fillOpacity=parseFloat(t.nodeValue);else if(t.nodeName.match(/^opacity$/i))e.opacity=parseFloat(t.nodeValue);else if(t.nodeName.match(/^data$/i)){var n=angular.element(a).scope();n.$parent.hasOwnProperty(t.nodeValue)&&(e.data=n.$parent[t.nodeValue])}}),angular.forEach(a.children,function(t){if(t.nodeName.match(/^data/i)){var a=n.parseData(t);null!==a&&e.data.push(a)}}),t.push(e)}},a.prototype.parseData=function(t){if(null===t)return null;var a={x:0,y:0,t:0,w:1,label:t.innerText};return angular.forEach(t.attributes,function(t){t.nodeName.match(/^x$/i)?a.x=parseFloat(t.nodeValue):t.nodeName.match(/^(y|val|value)$/i)?a.y=parseFloat(t.nodeValue):t.nodeName.match(/^(t|time)$/i)?a.t=parseFloat(t.nodeValue):t.nodeName.match(/^(w|weight)$/i)&&(a.w=parseFloat(t.nodeValue))}),a},a.prototype.parseAxis=function(t,a){if(null!==a){var e=this;angular.forEach(a.children,function(a){a.nodeName.match(/^x/i)?e.parseAxisAttributes(t.x,a):a.nodeName.match(/^y/i)&&e.parseAxisAttributes(t.y,a)})}},a.prototype.parseAxisAttributes=function(t,a){null!==a&&(t.label=a.innerText,angular.forEach(a.attributes,function(a){if(a.nodeName.match(/^ticks$/i))t.ticks=parseInt(a.nodeValue,10);else if(a.nodeName.match(/^range$/i))t.range=a.nodeValue;else if(a.nodeName.match(/^domain$/i))t.domain=a.nodeValue.replace(/[\[\]]/g,"").split(",");else if(a.nodeName.match(/^align$/i)){var e=a.nodeValue;t.type==="x"&&["top","center","bottom"].indexOf(e)>=0?t.align=e:t.type==="y"&&["left","center","right"].indexOf(e)>=0&&(t.align=e)}else if(a.nodeName.match(/^label-pos$/i)){var n=a.nodeValue;["start","middle","end"].indexOf(n)>=0&&(t.labelPos=n)}}))},a.prototype.initializeAxis=function(t){return t.axis===void 0||t.axis===null?(t.axis={x:{type:"x",domain:[0,10],label:"",align:"bottom",ticks:10,labelPos:"middle"},y:{type:"y",domain:[0,10],label:"",align:"left",ticks:10,labelPos:"middle"}},this):void 0},a.prototype.initializeData=function(t){return t.data===void 0||t.data===null?(t.data=[],this):void 0},a.prototype.drawAxis=function(t){var a=_dchart.prototype.getMinMaxValues(t.data);t.axis.x.range==="auto"&&(t.axis.x.domain=[a[0].x,a[1].x]),t.axis.y.range==="auto"&&(t.axis.y.domain=[a[0].y,a[1].y]);var e=t.axis.x.align==="center"?t.h*.5:t.axis.x.align==="top"?0:t.h,n=t.axis.x.align==="top"?"top":"bottom",i=t.axis.x.labelPos==="start"?0:t.axis.x.labelPos==="middle"?t.w*.5:t.w,r=t.axis.y.align==="center"?t.w*.5:t.axis.y.align==="right"?t.w:0,o=t.axis.y.align==="right"?"right":"left",s=t.axis.y.labelPos==="start"?t.h:t.axis.y.labelPos==="middle"?t.h*.5:0;t.xScale=d3.scale.linear().domain(t.axis.x.domain).range([0,t.w]),t.yScale=d3.scale.linear().domain(t.axis.y.domain).range([t.h,0]);var l=d3.svg.axis().scale(t.xScale).orient(n).ticks(t.axis.x.ticks),c=d3.svg.axis().scale(t.yScale).orient(o).ticks(t.axis.y.ticks);(t.svgXAxis===void 0||t.svgXAxis===null)&&(t.svgXAxis=t.svg.append("g").attr("class","axis").call(l),t.svgXAxisLabel=t.svg.append("g").attr("class","axis-label").append("text").attr("text-anchor",t.axis.x.labelPos).attr("x",i).attr("y",t.h+34)),(t.svgYAxis===void 0||t.svgYAxis===null)&&(t.svgYAxis=t.svg.append("g").attr("class","axis").call(c),t.svgYAxisLabel=t.svg.append("g").attr("class","axis-label").append("text").attr("text-anchor",t.axis.y.labelPos).attr("x",-s).attr("y",-34).attr("transform","rotate(-90)")),t.svgXAxis.transition().duration(150).ease("cubicin").attr("transform","translate(0,"+e+")").call(l),t.svgYAxis.transition().duration(150).ease("cubicin").attr("transform","translate("+r+",0)").call(c),t.svgXAxisLabel.text(t.axis.x.label),t.svgYAxisLabel.text(t.axis.y.label)},a}(_dchart),_dchartHisto=function(t){function a(){var t=a.__super__.constructor.apply(this,arguments);return t}return __extends(a,t),a.prototype.ngLink=function(t){t.margin={top:50,right:50,bottom:50,left:50}},a.prototype.ngWatch=function(){},a.prototype.drawData=function(t){var a=(t.data.length,t.w/t.axis.x.ticks*.5);(t.svgData===void 0||t.svgData===null)&&(t.svgData=[]),angular.forEach(t.data,function(e,n){(t.svgData[n]===void 0||t.svgData[n]===null)&&(t.svgData[n]=t.svg.append("g").attr("class","data"));var i=t.svgData[n].selectAll("rect").data(e.data,function(t){return t.y});i.attr("x",function(e){return t.xScale(e.x)-a}).attr("width",function(){return 2*a}),i.enter().append("rect").style("stroke",e.stroke).style("fill",e.fill).style("opacity",e.opacity).style("fill-opacity",e.fillOpacity).style("stroke-width",e.strokeWidth).attr("x",function(e){return t.xScale(e.x)-a}).attr("y",t.h).attr("width",function(){return 2*a}).attr("height",0).transition().duration(150).ease("cubicin").attr("y",function(a){return t.yScale(a.y)}).attr("height",function(a){return t.h-t.yScale(a.y)}),i.exit().transition().duration(150).ease("cubicout").attr("y",t.h).attr("height",0).each("end",function(){d3.select(this).remove()})})},a}(_dchart2D);angular.module("dchart.histo",[]).directive("dchartHisto",function(){return new _dchartHisto});var _dchartLine=function(t){function a(){var t=a.__super__.constructor.apply(this,arguments);return t}return __extends(a,t),a.prototype.ngLink=function(t){t.margin={top:50,right:50,bottom:50,left:50}},a.prototype.ngWatch=function(){},a.prototype.drawData=function(t){(t.svgData===void 0||t.svgData===null)&&(t.svgData=[],t.lineFn=[]),angular.forEach(t.data,function(a,e){(t.svgData[e]===void 0||t.svgData[e]===null)&&(t.svgData[e]=t.svg.append("g").attr("class","data").append("svg:path"),t.lineFn[e]=d3.svg.line().interpolate(a.interpolate).x(function(a){return t.xScale(a.x)}).y(function(a){return t.yScale(a.y)})),t.svgData[e].transition().duration(150).ease("cubicin").attr("d",t.lineFn[e](a.data)).style("stroke",a.stroke).style("fill","none").style("stroke-width",a.strokeWidth)})},a}(_dchart2D);angular.module("dchart.line",[]).directive("dchartLine",function(){return new _dchartLine});var _dchartScatter=function(t){function a(){var t=a.__super__.constructor.apply(this,arguments);return t}return __extends(a,t),a.prototype.ngLink=function(t){t.margin={top:50,right:50,bottom:50,left:50}},a.prototype.ngWatch=function(){},a.prototype.drawData=function(t){var a=10;(t.svgData===void 0||t.svgData===null)&&(t.svgData=[]),angular.forEach(t.data,function(e,n){(t.svgData[n]===void 0||t.svgData[n]===null)&&(t.svgData[n]=t.svg.append("g").attr("class","data"));var i=t.svgData[n].selectAll("circle").data(e.data,function(t){return t.y});i.exit().transition().duration(150).ease("cubicout").attr("r",0).each("end",function(){d3.select(this).remove()}),i.attr("cx",function(a){return t.xScale(a.x)}).attr("cy",function(a){return t.yScale(a.y)}),i.enter().append("circle").style("stroke",e.stroke).style("fill",e.fill).style("opacity",e.opacity).style("fill-opacity",e.fillOpacity).style("stroke-width",e.strokeWidth).attr("cx",function(a){return t.xScale(a.x)}).attr("cy",function(a){return t.yScale(a.y)}).attr("r",0).transition().duration(150).ease("cubicin").attr("r",function(t){return t.w*a})})},a}(_dchart2D);angular.module("dchart.scatter",[]).directive("dchartScatter",function(){return new _dchartScatter});var __hasProp={}.hasOwnProperty,__extends=function(t,a){function e(){this.constructor=t}for(var n in a)__hasProp.call(a,n)&&(t[n]=a[n]);return e.prototype=a.prototype,t.prototype=new e,t.__super__=a.prototype,t},_dchart=function(){function t(){this.restrict="E",this.transclude=!0,this.scope={w:"=width",h:"=height"}}return t.prototype.getRandomColor=function(){return"hsl("+Math.random()*360+",100%,50%)"},t.prototype.getMinMaxValues=function(t){var a={x:0,y:0},e={x:0,y:0};return void 0===data||null===data?[a,e]:(angular.forEach(t,function(t){null!==t&&angular.forEach(t.data,function(t){t.x>e.x?e.x=t.x:t.x<a.x&&(a.x=t.x),t.y>e.y?e.y=t.y:t.y<a.y&&(a.y=t.y)})}),[a,e])},t.prototype.parseTransclude=function(t,a){var e=this,n=t(a);void 0!==n&&null!==n&&angular.forEach(n,function(t){t.nodeName.match(/^axis/i)?e.parseAxis(a.axis,t):t.nodeName.match(/^data-set/i)&&e.parseDataSet(a.data,t)})},t.prototype.createSvg=function(t,a){if(t.svg===void 0||t.svg===null){var e=d3.select(a).append("svg").attr("width",t.w+t.margin.left+t.margin.right).attr("height",t.h+t.margin.top+t.margin.bottom).append("g").attr("class","dchart-container").attr("transform","translate("+t.margin.left+", "+t.margin.top+")");t.svg=e}},t.prototype.ngCompile=function(){},t.prototype.ngLink=function(){},t.prototype.ngWatch=function(){},t.prototype.compile=function(t,a,e){var n=this,i=e;return n.ngCompile(t,a,e),function(t,a,e){t.margin={top:0,right:0,bottom:0,left:0},n.ngLink(t,a,e),n.initializeAxis(t),n.initializeData(t),n.parseTransclude(i,t),n.createSvg(t,a[0]),t.$watch("[data, axis]",function(t,a,e){n.drawAxis(e),n.drawData(e),n.ngWatch(t,a,e)},!0)}},t}();"undefined"!=typeof exports&&(exports._dchart=_dchart);var _dchart2D=function(t){function a(){var t=a.__super__.constructor.apply(this,arguments);return t}return __extends(a,t),a.prototype.parseDataSet=function(t,a){if(null!==a){var e={label:"",stroke:this.getRandomColor(),fill:"#000",opacity:1,fillOpacity:1,strokeWidth:1,interpolate:"linear",data:[]},n=this;angular.forEach(a.attributes,function(t){if(t.nodeName.match(/^label$/i))e.label=t.nodeValue;else if(t.nodeName.match(/^stroke$/i))e.stroke=t.nodeValue;else if(t.nodeName.match(/^interpolate$/i))e.interpolate=t.nodeValue;else if(t.nodeName.match(/^fill$/i))e.fill=t.nodeValue;else if(t.nodeName.match(/^stroke-width$/i))e.strokeWidth=parseFloat(t.nodeValue);else if(t.nodeName.match(/^fill-opacity$/i))e.fillOpacity=parseFloat(t.nodeValue);else if(t.nodeName.match(/^opacity$/i))e.opacity=parseFloat(t.nodeValue);else if(t.nodeName.match(/^data$/i)){var n=angular.element(a).scope();n.$parent.hasOwnProperty(t.nodeValue)&&(e.data=n.$parent[t.nodeValue])}}),angular.forEach(a.children,function(t){if(t.nodeName.match(/^data/i)){var a=n.parseData(t);null!==a&&e.data.push(a)}}),t.push(e)}},a.prototype.parseData=function(t){if(null===t)return null;var a={x:0,y:0,t:0,w:1,label:t.innerText};return angular.forEach(t.attributes,function(t){t.nodeName.match(/^x$/i)?a.x=parseFloat(t.nodeValue):t.nodeName.match(/^(y|val|value)$/i)?a.y=parseFloat(t.nodeValue):t.nodeName.match(/^(t|time)$/i)?a.t=parseFloat(t.nodeValue):t.nodeName.match(/^(w|weight)$/i)&&(a.w=parseFloat(t.nodeValue))}),a},a.prototype.parseAxis=function(t,a){if(null!==a){var e=this;angular.forEach(a.children,function(a){a.nodeName.match(/^x/i)?e.parseAxisAttributes(t.x,a):a.nodeName.match(/^y/i)&&e.parseAxisAttributes(t.y,a)})}},a.prototype.parseAxisAttributes=function(t,a){null!==a&&(t.label=a.innerText,angular.forEach(a.attributes,function(a){if(a.nodeName.match(/^ticks$/i))t.ticks=parseInt(a.nodeValue,10);else if(a.nodeName.match(/^range$/i))t.range=a.nodeValue;else if(a.nodeName.match(/^domain$/i))t.domain=a.nodeValue.replace(/[\[\]]/g,"").split(",");else if(a.nodeName.match(/^align$/i)){var e=a.nodeValue;t.type==="x"&&["top","center","bottom"].indexOf(e)>=0?t.align=e:t.type==="y"&&["left","center","right"].indexOf(e)>=0&&(t.align=e)}else if(a.nodeName.match(/^label-pos$/i)){var n=a.nodeValue;["start","middle","end"].indexOf(n)>=0&&(t.labelPos=n)}}))},a.prototype.initializeAxis=function(t){return t.axis===void 0||t.axis===null?(t.axis={x:{type:"x",domain:[0,10],label:"",align:"bottom",ticks:10,labelPos:"middle"},y:{type:"y",domain:[0,10],label:"",align:"left",ticks:10,labelPos:"middle"}},this):void 0},a.prototype.initializeData=function(t){return t.data===void 0||t.data===null?(t.data=[],this):void 0},a.prototype.drawAxis=function(t){var a=_dchart.prototype.getMinMaxValues(t.data);t.axis.x.range==="auto"&&(t.axis.x.domain=[a[0].x,a[1].x]),t.axis.y.range==="auto"&&(t.axis.y.domain=[a[0].y,a[1].y]);var e=t.axis.x.align==="center"?t.h*.5:t.axis.x.align==="top"?0:t.h,n=t.axis.x.align==="top"?"top":"bottom",i=t.axis.x.labelPos==="start"?0:t.axis.x.labelPos==="middle"?t.w*.5:t.w,r=t.axis.y.align==="center"?t.w*.5:t.axis.y.align==="right"?t.w:0,o=t.axis.y.align==="right"?"right":"left",s=t.axis.y.labelPos==="start"?t.h:t.axis.y.labelPos==="middle"?t.h*.5:0;t.xScale=d3.scale.linear().domain(t.axis.x.domain).range([0,t.w]),t.yScale=d3.scale.linear().domain(t.axis.y.domain).range([t.h,0]);var l=d3.svg.axis().scale(t.xScale).orient(n).ticks(t.axis.x.ticks),c=d3.svg.axis().scale(t.yScale).orient(o).ticks(t.axis.y.ticks);(t.svgXAxis===void 0||t.svgXAxis===null)&&(t.svgXAxis=t.svg.append("g").attr("class","axis").call(l),t.svgXAxisLabel=t.svg.append("g").attr("class","axis-label").append("text").attr("text-anchor",t.axis.x.labelPos).attr("x",i).attr("y",t.h+34)),(t.svgYAxis===void 0||t.svgYAxis===null)&&(t.svgYAxis=t.svg.append("g").attr("class","axis").call(c),t.svgYAxisLabel=t.svg.append("g").attr("class","axis-label").append("text").attr("text-anchor",t.axis.y.labelPos).attr("x",-s).attr("y",-34).attr("transform","rotate(-90)")),t.svgXAxis.transition().duration(150).ease("cubicin").attr("transform","translate(0,"+e+")").call(l),t.svgYAxis.transition().duration(150).ease("cubicin").attr("transform","translate("+r+",0)").call(c),t.svgXAxisLabel.text(t.axis.x.label),t.svgYAxisLabel.text(t.axis.y.label)},a}(_dchart),_dchartHisto=function(t){function a(){var t=a.__super__.constructor.apply(this,arguments);return t}return __extends(a,t),a.prototype.ngLink=function(t){t.margin={top:50,right:50,bottom:50,left:50}},a.prototype.ngWatch=function(){},a.prototype.drawData=function(t){var a=(t.data.length,t.w/t.axis.x.ticks*.5);(t.svgData===void 0||t.svgData===null)&&(t.svgData=[]),angular.forEach(t.data,function(e,n){(t.svgData[n]===void 0||t.svgData[n]===null)&&(t.svgData[n]=t.svg.append("g").attr("class","data"));var i=t.svgData[n].selectAll("rect").data(e.data,function(t){return t.y});i.attr("x",function(e){return t.xScale(e.x)-a}).attr("width",function(){return 2*a}),i.enter().append("rect").style("stroke",e.stroke).style("fill",e.fill).style("opacity",e.opacity).style("fill-opacity",e.fillOpacity).style("stroke-width",e.strokeWidth).attr("x",function(e){return t.xScale(e.x)-a}).attr("y",t.h).attr("width",function(){return 2*a}).attr("height",0).transition().duration(150).ease("cubicin").attr("y",function(a){return t.yScale(a.y)}).attr("height",function(a){return t.h-t.yScale(a.y)}),i.exit().transition().duration(150).ease("cubicout").attr("y",t.h).attr("height",0).each("end",function(){d3.select(this).remove()})})},a}(_dchart2D);angular.module("dchart.histo",[]).directive("dchartHisto",function(){return new _dchartHisto});var _dchartLine=function(t){function a(){var t=a.__super__.constructor.apply(this,arguments);return t}return __extends(a,t),a.prototype.ngLink=function(t){t.margin={top:50,right:50,bottom:50,left:50}},a.prototype.ngWatch=function(){},a.prototype.drawData=function(t){(t.svgData===void 0||t.svgData===null)&&(t.svgData=[],t.lineFn=[]),angular.forEach(t.data,function(a,e){(t.svgData[e]===void 0||t.svgData[e]===null)&&(t.svgData[e]=t.svg.append("g").attr("class","data").append("svg:path"),t.lineFn[e]=d3.svg.line().interpolate(a.interpolate).x(function(a){return t.xScale(a.x)}).y(function(a){return t.yScale(a.y)})),t.svgData[e].transition().duration(150).ease("cubicin").attr("d",t.lineFn[e](a.data)).style("stroke",a.stroke).style("fill","none").style("stroke-width",a.strokeWidth)})},a}(_dchart2D);angular.module("dchart.line",[]).directive("dchartLine",function(){return new _dchartLine});var _dchartScatter=function(t){function a(){var t=a.__super__.constructor.apply(this,arguments);return t}return __extends(a,t),a.prototype.ngLink=function(t){t.margin={top:50,right:50,bottom:50,left:50}},a.prototype.ngWatch=function(){},a.prototype.drawData=function(t){var a=10;(t.svgData===void 0||t.svgData===null)&&(t.svgData=[]),angular.forEach(t.data,function(e,n){(t.svgData[n]===void 0||t.svgData[n]===null)&&(t.svgData[n]=t.svg.append("g").attr("class","data"));var i=t.svgData[n].selectAll("circle").data(e.data,function(t){return t.y});i.exit().transition().duration(150).ease("cubicout").attr("r",0).each("end",function(){d3.select(this).remove()}),i.attr("cx",function(a){return t.xScale(a.x)}).attr("cy",function(a){return t.yScale(a.y)}),i.enter().append("circle").style("stroke",e.stroke).style("fill",e.fill).style("opacity",e.opacity).style("fill-opacity",e.fillOpacity).style("stroke-width",e.strokeWidth).attr("cx",function(a){return t.xScale(a.x)}).attr("cy",function(a){return t.yScale(a.y)}).attr("r",0).transition().duration(150).ease("cubicin").attr("r",function(t){return t.w*a})})},a}(_dchart2D);angular.module("dchart.scatter",[]).directive("dchartScatter",function(){return new _dchartScatter});